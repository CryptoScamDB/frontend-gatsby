{"version":3,"sources":["webpack:///./src/components/cryptoscamdb/search.tsx","webpack:///./src/pages/search.tsx","webpack:///./src/images/navigation/right.svg"],"names":["SearchForm","styled","form","withConfig","displayName","componentId","SearchInput","input","SearchButton","button","ScamStatus","span","props","indexOf","status","toLowerCase","Search","_this","_Component","call","this","searchData","objEvent","strSearchInput","currentTarget","value","key","length","arrTableData","n","data","allCsdbScamDomains","edges","forEach","scam","objRecord","URL","category","subcategory","node","name","join","react_default","a","createElement","gatsby_browser_entry","to","csdbId","role","objRegex","RegExp","match","ip","addresses","map","addr","filter","e","push","setState","bind","assertThisInitialized_default","state","searchQuery","render","placeholder","type","onKeyUp","src","IconSearch","alt","PaginatedTable","totalRecords","recordsPerPage","tableData","tableHeaders","disableSearchInput","Component","defaultProps","__webpack_require__","d","__webpack_exports__","pageQuery","Container","div","_ref","Layout","imageBg","id","SEO","title","keywords","search_Search","module","exports"],"mappings":"kPAMMA,EAAaC,IAAOC,KAAVC,WAAA,CAAAC,YAAA,qBAAAC,YAAA,YAAGJ,CAAH,wDAKVK,EAAcL,IAAOM,MAAVJ,WAAA,CAAAC,YAAA,sBAAAC,YAAA,YAAGJ,CAAH,0KASXO,EAAeP,IAAOQ,OAAVN,WAAA,CAAAC,YAAA,uBAAAC,YAAA,YAAGJ,CAAH,wLAqBZS,EAAaT,IAAOU,KAAVR,WAAA,CAAAC,YAAA,qBAAAC,YAAA,YAAGJ,CAAH,eACL,SAACW,GAAD,MACP,CAAC,UAAUC,QAAQD,EAAME,OAAOC,eAAiB,UAAY,YAY5CC,cAKnB,SAAAA,EAAYJ,GAAc,IAAAK,EAAA,OACxBA,EAAAC,EAAAC,KAAAC,KAAMR,IAANQ,MAUFC,WAAa,SAACC,GACZ,IAAMC,EAAiBD,EAASE,cAAcC,MAE9C,KAAmC,cAA/BH,EAASI,IAAIX,eAAiCQ,EAAeI,OAAS,GAA1E,CAKA,IAAMC,EAAsB,GACxBC,EAAI,EACRZ,EAAKL,MAAMkB,KAAKC,mBAAmBC,MAAMC,QAAQ,SAACC,GAChD,IAAMC,EAAiB,CACrBN,EAAG,GACHO,IAAK,GACLtB,OAAQ,GACRuB,SAAU,GACVC,YAAa,IAKf,IAAoE,IAAhE,EAFJJ,EAAOA,EAAKK,MAEFC,KAAMN,EAAKG,SAAUH,EAAKI,aAAazB,QAAQ,MAAc,CAarE,OAZAsB,EAAUN,EAAI,CAAC,IAAKA,KAAKY,KAAK,IAE9BN,EAAUC,IACRM,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAMC,GAAI,WAAaZ,EAAKa,OAAQC,KAAK,QACtCd,EAAKM,KAAKzB,eAIfoB,EAAUrB,OAASoB,EAAKpB,OACL,MAAfoB,EAAKpB,SACPqB,EAAUrB,OAAS,WAEbqB,EAAUrB,OAAOC,eACvB,IAAK,SACHoB,EAAUrB,OAAS4B,EAAAC,EAAAC,cAAClC,EAAD,CAAYI,OAAO,UAAnB,UACnB,MACF,QACA,IAAK,UACL,IAAK,YACHqB,EAAUrB,OAAS4B,EAAAC,EAAAC,cAAClC,EAAD,CAAYI,OAAO,YAAYqB,EAAUrB,QAIhEqB,EAAUE,SAAWH,EAAKG,SAC1BF,EAAUG,YAAcJ,EAAKI,YAG7B,IAAMW,EAAW,IAAIC,OAAO3B,EAAgB,MAG5C,QAAQ,GACN,MAAOW,EAAKM,KAAKW,MAAMF,GACvB,MAAOf,EAAKI,YAAYa,MAAMF,GAC9B,KAAiB,OAAZf,EAAKkB,MAAiBlB,EAAKkB,GAAGD,MAAMF,GACzC,KAAKf,EAAKmB,WACRnB,EAAKmB,UAAU1B,UACbO,EAAKmB,UAAUC,IAAI,SAAAC,GAAI,OAAIA,EAAKJ,MAAMF,KAAWO,OAAO,SAAAC,GAAC,OAAIA,IAAG9B,OAClEC,EAAa8B,KAAKvB,IAOxBlB,EAAK0C,SAAS,CAAE7B,KAAMF,QA1ExBX,EAAKI,WAAaJ,EAAKI,WAAWuC,KAAhBC,QAAA5C,KAElBA,EAAK6C,MAAQ,CACXC,YAAa,GACbjC,KAAM,IAPgBb,8BAiF1B+C,OAAA,WACE,OACEtB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC5C,EAAD,KACE0C,EAAAC,EAAAC,cAACtC,EAAD,CACE2D,YAAY,qGACZC,KAAK,OACLC,QAAS/C,KAAKC,aAEhBqB,EAAAC,EAAAC,cAACpC,EAAD,KACEkC,EAAAC,EAAAC,cAAA,OAAKwB,IAAKC,IAAYC,IAAI,aAI7BlD,KAAK0C,MAAMhC,KAAKH,OAAS,EACxBe,EAAAC,EAAAC,cAAC2B,EAAA,EAAD,CACEC,aAAcpD,KAAK0C,MAAMhC,KAAKH,OAC9B8C,eAAgB,GAChBC,UAAWtD,KAAK0C,MAAMhC,KACtB6C,aAAc,CAAC,IAAK,MAAO,SAAU,WAAY,eACjDC,oBAAoB,IANvB,QApG2BC,aAAf7D,EACZ8D,aAAe,CACpBhD,KAAM,ICzDViD,EAAAC,EAAAC,EAAA,8BAAAC,IAOA,IAAMC,EAAYlF,IAAOmF,IAAVjF,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,0EA+BFiF,GAFElE,UAXkC,SAAAqE,GAAsB,IAAnBvD,EAAmBuD,EAAnBvD,KAClD,OACEY,EAAAC,EAAAC,cAAC0C,EAAA,EAAD,CAAQC,SAAS,EAAOC,GAAG,eACzB9C,EAAAC,EAAAC,cAAC6C,EAAA,EAAD,CAAKC,MAAM,sBAAsBC,SAAU,8BAC3CjD,EAAAC,EAAAC,cAACuC,EAAD,KACEzC,EAAAC,EAAAC,cAACgD,EAAD,CAAgB9D,KAAMA,OAQR,iCCtCtB+D,EAAAC,QAAA","file":"component---src-pages-search-tsx-e3e8a23881c4e14ff6d1.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'gatsby';\nimport styled from 'styled-components';\nimport PaginatedTable from '../pagination/PaginatedTable';\nimport IconSearch from '../../images/navigation/right.svg';\n\nconst SearchForm = styled.form`\n  position: relative;\n  margin: 0 20%;\n  padding-bottom: 3em;\n`;\nconst SearchInput = styled.input`\n  padding: 1em;\n  border: 0.5px solid #ffffff;\n  border-radius: 8px;\n  background-color: rgba(255, 255, 255, 0.06);\n  box-shadow: 0 23px 45px -5px rgba(0, 0, 0, 0.38);\n  width: 100%;\n  color: #fff;\n`;\nconst SearchButton = styled.button`\n  color: #fff;\n  width: 10%;\n  cursor: pointer;\n  position: absolute;\n  top: 0.5em;\n  right: 0%;\n  background: transparent;\n  border: transparent;\n  border-left: 1px solid #fff;\n\n  > img {\n    height: 20px;\n    margin-top: 0.3em;\n  }\n`;\n\ninterface ScamStatusProps {\n  status: string;\n}\n\nconst ScamStatus = styled.span`\n  color: ${(props: ScamStatusProps) =>\n    ['active'].indexOf(props.status.toLowerCase()) ? '#5194A2' : '#FF303E'};\n`;\n\ninterface Props {\n  data: any;\n}\n\ninterface State {\n  searchQuery: string;\n  data: any;\n}\n\nexport default class Search extends Component<Props, State> {\n  static defaultProps = {\n    data: []\n  };\n\n  constructor(props: Props) {\n    super(props);\n\n    this.searchData = this.searchData.bind(this);\n\n    this.state = {\n      searchQuery: '',\n      data: []\n    };\n  }\n\n  searchData = (objEvent: React.KeyboardEvent<any>) => {\n    const strSearchInput = objEvent.currentTarget.value;\n\n    if (objEvent.key.toLowerCase() === 'backspace' && strSearchInput.length > 0) {\n      return;\n    }\n\n    // Sort out the table data\n    const arrTableData: any[] = [];\n    let n = 1;\n    this.props.data.allCsdbScamDomains.edges.forEach((scam: any) => {\n      const objRecord: any = {\n        n: '',\n        URL: '',\n        status: '',\n        category: '',\n        subcategory: ''\n      };\n\n      scam = scam.node;\n\n      if ([scam.name, scam.category, scam.subcategory].indexOf(null) === -1) {\n        objRecord.n = ['#', n++].join('');\n\n        objRecord.URL = (\n          <Link to={'/domain/' + scam.csdbId} role=\"link\">\n            {scam.name.toLowerCase()}\n          </Link>\n        );\n\n        objRecord.status = scam.status;\n        if (scam.status == null) {\n          objRecord.status = 'Unknown';\n        }\n        switch (objRecord.status.toLowerCase()) {\n          case 'active':\n            objRecord.status = <ScamStatus status=\"active\">Active</ScamStatus>;\n            break;\n          default:\n          case 'offline':\n          case 'suspended':\n            objRecord.status = <ScamStatus status=\"inactive\">{objRecord.status}</ScamStatus>;\n            break;\n        }\n\n        objRecord.category = scam.category;\n        objRecord.subcategory = scam.subcategory;\n\n        // See if we want to push the data to the table\n        const objRegex = new RegExp(strSearchInput, 'gi');\n\n        // Match on the domain name\n        switch (true) {\n          case !!scam.name.match(objRegex): //name search\n          case !!scam.subcategory.match(objRegex): //subcategory search\n          case scam.ip !== null && !!scam.ip.match(objRegex): //ip search\n          case scam.addresses &&\n            scam.addresses.length &&\n            !!scam.addresses.map(addr => addr.match(objRegex)).filter(e => e).length: //address search\n            arrTableData.push(objRecord);\n            break;\n          default:\n            break;\n        }\n      }\n\n      this.setState({ data: arrTableData });\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <SearchForm>\n          <SearchInput\n            placeholder=\"Search for a domain, an IP address, or a crypto address from one of our supported cryptocurrencies\"\n            type=\"text\"\n            onKeyUp={this.searchData}\n          />\n          <SearchButton>\n            <img src={IconSearch} alt=\"Search\" />\n          </SearchButton>\n        </SearchForm>\n\n        {this.state.data.length > 0 ? (\n          <PaginatedTable\n            totalRecords={this.state.data.length}\n            recordsPerPage={25}\n            tableData={this.state.data}\n            tableHeaders={['#', 'URL', 'Status', 'Category', 'Subcategory']}\n            disableSearchInput={true}\n          />\n        ) : (\n          ``\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport Layout from '../components/Layout';\nimport SEO from '../components/SEO';\nimport styled from 'styled-components';\nimport SearchFunction from '../components/cryptoscamdb/search';\n\nconst Container = styled.div`\n  margin: 0 5%;\n  width: 90%;\n\n  @media (max-width: 968px) {\n    width: 100%;\n    margin: 0;\n  }\n`;\n\ninterface ScamStatusProps {\n  status: string;\n}\n\ninterface IProps {\n  data: any;\n}\n\nconst Search: React.StatelessComponent<IProps> = ({ data }: IProps) => {\n  return (\n    <Layout imageBg={false} id=\"domain-view\">\n      <SEO title=\"Search CryptoScamDB\" keywords={[`cryptoscamdb`, `mycrypto`]} />\n      <Container>\n        <SearchFunction data={data} />\n      </Container>\n    </Layout>\n  );\n};\n\nexport default Search;\n\nexport const pageQuery = graphql`\n  query($slug: String) {\n    allCsdbScamDomains(filter: { csdbId: { eq: $slug } }) {\n      edges {\n        node {\n          id\n          name\n          url\n          category\n          subcategory\n          description\n          reporter\n          severity\n          path\n          hostname\n          ip\n          nameservers\n          status\n          statusCode\n          updated\n          type\n          lookups\n          abusereport\n          csdbId\n          addresses\n        }\n      }\n    }\n  }\n`;\n","module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTNweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMTMgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogc2tldGNodG9vbCA1Mi41ICg2NzQ2OSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+MDA3MTAwMEEtMDJBRi00MDQ5LTg4OTAtN0ZDQkREMTBBQjZCPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLjwvZGVzYz4KICAgIDxnIGlkPSItLS1EZXNrdG9wIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iWWVzLWl0LXdhcy0xLWVycm9yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODI2LjAwMDAwMCwgLTc0OS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4KICAgICAgICAgICAgPGcgaWQ9IkJhY2svY29udGludWUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyNS4wMDAwMDAsIDc0OC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJiYWNrIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDcuNTAwMDAwLCAxMy4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0yMDcuNTAwMDAwLCAtMTMuMDAwMDAwKSB0cmFuc2xhdGUoMjAxLjAwMDAwMCwgMS4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMC4zNDUwODQ3MjcsMTIuODU2NTY2MyBMMTAuOTYyNzc3OSwyMy42NDU3MTM0IEMxMS40Mjg2NzUxLDI0LjExODA5NTUgMTIuMTgzNTAzMywyNC4xMTgwOTU1IDEyLjY1MDU3NywyMy42NDU3MTM0IEMxMy4xMTY0NzQzLDIzLjE3MzMzMTMgMTMuMTE2NDc0MywyMi40MDYwNTkyIDEyLjY1MDU3NywyMS45MzM2NzcyIEwyLjg3NTA2Nzc1LDEyLjAwMDU5OCBMMTIuNjQ5NDAwNSwyLjA2NzUxODc1IEMxMy4xMTUyOTc4LDEuNTk1MTM2NjYgMTMuMTE1Mjk3OCwwLjgyNzg2NDU2NCAxMi42NDk0MDA1LDAuMzU0Mjg2NTY5IEMxMi4xODM1MDMzLC0wLjExODA5NTUyMyAxMS40Mjc0OTg2LC0wLjExODA5NTUyMyAxMC45NjE2MDE0LDAuMzU0Mjg2NTY5IEwwLjM0MzkwODIxOSwxMS4xNDMzMzQxIEMtMC4xMTQ4MzE5NjksMTEuNjEwODMyOSAtMC4xMTQ4MzE5NjksMTIuMzkwMTYzNyAwLjM0NTA4NDcyNywxMi44NTY1NjYzIFoiIGlkPSJDaGV2cm9uX1JpZ2h0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\""],"sourceRoot":""}